---
title: "ã€Reactã€‘è¤‡æ•°ã®è¦ç´ ã‚’é †ç•ªã«è¡¨ç¤ºã—ãŸã„ï¼"
emoji: "ğŸ¦”"
type: "tech"
topics:
  - "react"
published: true
published_at: "2023-07-30 08:51"
---

è¤‡æ•°ã®è¦ç´ ã‚’ãã‚Œãã‚Œåˆ¥ã®æ¡ä»¶ã§ __é †ç•ªã«__ è¡¨ç¤ºã—ãŸã„ã¨ãã€
ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ...ã‚ã‚Šã¾ã™ã‚ˆã­ã€‚ç§ã¯ã‚ã‚Šã¾ã—ãŸã€‚

## ãƒ™ã‚¿ãƒ¼ãªè§£æ±ºæ–¹æ³•
[honey32](https://zenn.dev/honey32)ã•ã‚“ã«[ã‚ˆã‚Šã‚ˆã„æ–¹æ³•](https://zenn.dev/link/comments/b93dd0da348865)ã‚’æ•™ãˆã¦ã„ãŸã ãã¾ã—ãŸã€‚
ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã§ã•ã‚‰ã«ã¾ã¨ã‚ã¦ã€è¿”ã‚Šå€¤ã‚’é™å®šã™ã‚Œã°ã‚ˆã‹ã£ãŸã‚ˆã†ã§ã™ã€‚ã€‚
ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼


## ä¾‹ãˆã°

ã“ã‚Œã¯ç§ãŒå®Ÿéš›ã«é­é‡ã—ãŸäº‹ä¾‹ãªã®ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãã‚Œãã‚Œå›ºæœ‰ã®æ¡ä»¶ã§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ãŸã„ã€ãªã‚“ã¦ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚
- ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã®æœŸé™ãŒåˆ‡ã‚ŒãŸã®ã§å†ãƒ­ã‚°ã‚¤ãƒ³ã•ã›ãŸã„
- å¿…è¦ãªè¨­å®šãŒçµ‚ã‚ã£ã¦ã„ãªã„ã®ã§è¨­å®šç·¨é›†ç”»é¢ã«é·ç§»ã•ã›ãŸã„
- æœ€æ–°ã®ãŠçŸ¥ã‚‰ã›ã‚’é€šçŸ¥ã—ãŸã„ã€etc...

ãã‚“ãªã¨ãã€ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¦ã—ã¾ã†ã¨ã€‚ã€‚ã€‚

```react
const DialogWrapper = () => {
  return (
    <>
      <DialogA />
      <DialogB />
      <DialogC />
    </>
  )
}

const DialogA = ({ children }) => {
  const { openA } = useDialogA();
  return <Dialog open={openA} />
}

const DialogB = ({ children }) => {
  const { openB } = useDialogB();
  return <Dialog open={openB} />
}

const DialogC = () => {
  const { openC } = useDialogB();
  return <Dialog open={openC} />
}
```

## å›°ã£ãŸï¼

ãªã‚“ã¨ã€
__æ¡ä»¶ã«å½“ã¦ã¯ã¾ã£ãŸãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒã™ã¹ã¦è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã†__
ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼

ãã†ãªã‚“ã§ã™ã€‚å½“ç„¶ã§ã¯ã‚ã‚Šã¾ã™ãŒã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¤‡æ•°ç”¨æ„ã—ã¦ãã‚Œãã‚Œã§è¡¨ç¤ºéè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã„ã‚‹ã¨ã€æ¡ä»¶ã«å½“ã¦ã¯ã¾ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒã™ã¹ã¦è¡¨ç¤ºã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚
å„ªå…ˆåº¦ãŒé«˜ã„ã‚‚ã®ã‹ã‚‰é †ç•ªã«ã€ã²ã¨ã¤ãšã¤ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ãŸã„ã€‚ã€‚ã€‚

â€» ãã‚‚ãã‚‚ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’ã²ã¨ã¤ã ã‘ã«ã—ã¦ã€ä¸­èº«ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é †ç•ªã«åˆ‡ã‚Šæ›¿ãˆã¦ã„ãæ–¹æ³•ã§ã‚‚å¯èƒ½ã ã¨æ€ã„ã¾ã™ãŒã€æ¡ä»¶ãŒå¢—ãˆãŸã¨ãã«æ··æ²ŒãŒè¨ªã‚Œã‚‹ã¨è€ƒãˆã€ã‚ãˆã¦ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’åˆ†ã‘ã¦å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚
ã¾ãŸã€ã™ã¹ã¦ã®ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è¦ªè¦ç´ ã«ã¦è¡¨ç¤ºã™ã‚‹ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’ç®¡ç†ã—ã‚ˆã†ã‹ã¨ã‚‚è€ƒãˆã¾ã—ãŸãŒã€å®Ÿè£…ã‚‚ç®¡ç†ã‚‚å¤§å¤‰ãã†ãªã®ã§ç°¡å˜ãªå®Ÿè£…æ–¹æ³•ã‚’æ¢ã—ã¾ã—ãŸã€‚


## çµè«–
å…¥ã‚Œå­ã¨`children`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã£ãŸæ¡ä»¶åˆ†å²ã§å®Ÿè£…ã§ãã¾ã—ãŸã€‚

```react
const DialogWrapper = () => {
  return (
    <DialogA>
      <DialogB>
        <DialogC />
      </DialogB>
    </DialogA>
  )
}

const DialogA = ({ children }) => {
  const { openA } = useDialogA();
  
  if (!openA) return children;
  return <Dialog open={openA} />
}

const DialogB = ({ children }) => {
  const { openB } = useDialogB();
  
  if (!openB) return children;
  return <Dialog open={openB} />
}

const DialogC = () => {
  const { openC } = useDialogB();
  return <Dialog open={openC} />
}
```

ã‚³ãƒ¼ãƒ‰ã®ã¨ãŠã‚Šã§ã™ãŒã€DialogA â†’ DialogB â†’ DialogC ã®é †ç•ªã§è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚


## æ„å›³ã—ãŸé€šã‚Šå‹•ã‹ãªã‹ã£ãŸå®Ÿè£…
å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§`null`ã‚’ãƒªã‚¿ãƒ¼ãƒ³ã—ã€è¦ªã§æ¡ä»¶åˆ†å²ã‚’ã—ã‚ˆã†ã¨ã—ã¾ã—ãŸã€‚
è¿”ã‚Šå€¤ãŒ`null`ã§ã¯ãªãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ãªã£ã¦ã—ã¾ã£ã¦ã€æ„å›³ã—ãŸã¨ãŠã‚Šã«ã¯å‹•ä½œã—ã¾ã›ã‚“ã§ã—ãŸã€‚

```react
const DialogWrapper = () => {
  return <DialogA /> || <DialogB /> || <DialogC />;
}

const DialogA = () => {
  const { openA } = useDialogA();
  
  if (!openA) return null;
  return <Dialog open={openA} />
}

const DialogB = () => {
  const { openB } = useDialogB();
  
  if (!openB) return null;
  return <Dialog open={openB} />
}

const DialogC = () => {
  const { openC } = useDialogB();
  return <Dialog open={openC} />
}
```


## ã¾ã¨ã‚
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§`return null`ã‚’ã—ã¦ã‚‚ã€è¿”ã‚Šå€¤ã¯`null`ã«ã¯ãªã‚‰ãªã„
- å…¥ã‚Œå­ã¨`children`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é§†ä½¿ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹

ã¨ã„ã†ã“ã¨ã‚’å­¦ã³ã¾ã—ãŸã€‚

ã‚‚ã£ã¨ãƒ™ã‚¿ãƒ¼ãªæ–¹æ³•ãŒã‚ã£ãŸã‚Šã€ä»–ã«ã‚‚å®Ÿç¾ã§ãã‚‹æ–¹æ³•ãªã©ã‚ã‚Šã¾ã—ãŸã‚‰ã”æŒ‡æ‘˜ã€ã”æ•™æˆã„ãŸã ã‘ã¾ã™ã¨ã€å¤§å¤‰å¬‰ã—ã„ã§ã™ï¼ï¼
ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï½